add_custom_command(OUTPUT TComptonTelescopePhysicsDict.cxx COMMAND ${CMAKE_BINARY_DIR}/scripts/build_dict.sh TComptonTelescopePhysics.h TComptonTelescopePhysicsDict.cxx TComptonTelescopePhysics.rootmap libNPComptonTelescope.dylib DEPENDS TComptonTelescopePhysics.h)
add_custom_command(OUTPUT TComptonTelescopeProcessDataDict.cxx COMMAND ${CMAKE_BINARY_DIR}/scripts/build_dict.sh TComptonTelescopeProcessData.h TComptonTelescopeProcessDataDict.cxx TComptonTelescopeProcessData.rootmap libNPComptonTelescope.dylib DEPENDS TComptonTelescopeProcessData.h)
add_custom_command(OUTPUT TComptonTelescopeDataDict.cxx COMMAND ${CMAKE_BINARY_DIR}/scripts/build_dict.sh TComptonTelescopeData.h TComptonTelescopeDataDict.cxx TComptonTelescopeData.rootmap libNPComptonTelescope.dylib DEPENDS TComptonTelescopeData.h)
add_library(NPComptonTelescope SHARED TComptonTelescopeData.cxx TComptonTelescopePhysics.cxx TComptonTelescopeDataDict.cxx TComptonTelescopePhysicsDict.cxx TComptonTelescopeSpectra.cxx TComptonTelescopeProcessData.cxx TComptonTelescopeProcessDataDict.cxx)
target_link_libraries(NPComptonTelescope ${ROOT_LIBRARIES} NPCore) 
install(FILES TComptonTelescopeProcessData.h TComptonTelescopeData.h TComptonTelescopePhysics.h TComptonTelescopeSpectra.h DESTINATION ${CMAKE_INCLUDE_OUTPUT_DIRECTORY})
